(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{560:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("前端技術發展至今，Webpack 已經是每個前端開發者必備的技能了，因此這邊簡單介紹一下什麼是 Webpack。前端框架百百種，不論是 Javascript 的 ES6/TS 或是 SCSS/Less 的預處理器，可以輔助我們快速開發網站，不過瀏覽器才不管你是什麼框架、套件，他就是只認識 Javascript(ES5) 以及 CSS，所以我們在真正上線之前，都會需要轉換成瀏覽器看得懂的樣子，而這樣轉換的過程，我們稱為打包或是編譯。Webpack 就是在幫忙做這些事的工具，甚至他可以優化程式碼、壓縮或是其他 Plugins 運用。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/z9KawQZ.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"webpack-是什麼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-是什麼"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Webpack"),t("OutboundLink")],1),s._v(" 是什麼？")]),s._v(" "),t("p",[s._v("從官網的圖片可以知道，他就是幫助我們把 js、css、圖片等資源優化，打包(bundle)成一個或是多個檔案。")]),s._v(" "),t("h2",{attrs:{id:"安裝-webpack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安裝-webpack"}},[s._v("#")]),s._v(" 安裝 Webpack")]),s._v(" "),t("p",[s._v("假設已經 "),t("code",[s._v("npm init")]),s._v(" 後，以下目錄：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("webpack5-demo/\n┣ src/\n┃ ┗ index.js\n┗ package.json\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("接者，執行")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install webpack\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("就可以看到在 package.json 的 dependencies 下，已經有 webpack 的版本顯示了，並且在目錄下面會有 node_modules 資料夾產生(裡面就是 dependencies 下的工具或所需套件)。")]),s._v(" "),t("p",[s._v("接者我們在 package.json 的 scripts，新增一個指令：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在終端機執行，"),t("code",[s._v("npm run build")]),s._v("，就可以幫我們把 src 下的 index.js 檔案打包至 dist 資料夾的 main.js 。(第一次打包會要求安裝 webpack-cli 直接 yes 就好了。)")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"}),t("p",[s._v("webpack 4 以後的版本，不一定需要 webpack.config 的設定就可以進行打包，並且預設入口為 src/index.js，出口為 dist/main.js 資料夾。後面會在解釋入口和出口的配置方式。")])]),t("h3",{attrs:{id:"相關命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#相關命令"}},[s._v("#")]),s._v(" 相關命令")]),s._v(" "),t("p",[s._v("如果開發時，每次都要重新 build，我們可以使用：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("webpack watch\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果你想要使用自訂的 webpack 設定檔：：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("webpack --config myWebpackConfig.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"bundle-loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bundle-loader"}},[s._v("#")]),s._v(" Bundle/Loader")]),s._v(" "),t("h3",{attrs:{id:"bundle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bundle"}},[s._v("#")]),s._v(" Bundle")]),s._v(" "),t("p",[s._v("Webpack 是單一檔案作為入口，所以這個檔案會是所有 tree 的 root，每次 import/require 檔案到 root 中或其他檔案中，他就會被加入到 tree，最後執行 webpack 的時候，所有的檔案和 module 就會被 bundle 成一個檔案。")]),s._v(" "),t("p",[s._v("Webpack 不會打包所有在 src 底下的所有檔案，會針對入口(index.js)引用到的檔案進行打包壓縮優化。")]),s._v(" "),t("h3",{attrs:{id:"loader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[s._v("#")]),s._v(" Loader")]),s._v(" "),t("p",[s._v("我們在寫 vue/react 已經習慣把 scss/css 檔案引入到 js 檔案中了，但是 javascript 根本就不會解析 css 檔案，因此打包後需要把這些非 js 檔案的引入進行處理，而這部分就稱之為 Loader，使用這些 Loader 就可以把任何 "),t("code",[s._v(".css")]),s._v(" 和 "),t("code",[s._v(".png")]),s._v(" 到 "),t("code",[s._v(".html")]),s._v(" 檔 import/require 到 js 中。")]),s._v(" "),t("p",[s._v("Webpack 提供許多 Loader ，像是常用的 style-loader 和 css-loader。")]),s._v(" "),t("p",[s._v("打包後，會把這些非 "),t("code",[s._v(".js")]),s._v(" 檔案，透過設定產生在出口的位置。")]),s._v(" "),t("h2",{attrs:{id:"webpack-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config"}},[s._v("#")]),s._v(" Webpack Config")]),s._v(" "),t("p",[s._v("前面有提到，Webpack.config 在第四版後，就可以不用提供，只要在 src 的資料夾底下加上 index.js，他就會自動把它當作一個入口。但是他只會針對這個 index.js 引入的 javascript 進行打包，並不會有其他像是 scss、babel 處理等 Loader 動作，因此還是必須去設定當下專案的 loader、plugins。")]),s._v(" "),t("p",[s._v("透過 Webpack.config 的設定，開發、打包、優化程式碼會更好的針對專案做處理。")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("webpack5-demo/\n┣ src/\n┃ ┗ index.js\n┣ package.json\n┗ webpack.config.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("在根目錄下面新增 "),t("code",[s._v("webpack.config.js")]),s._v(" 檔案，他預設會吃這個名稱，相關"),t("a",{attrs:{href:"https://webpack.js.org/concepts/configuration/",target:"_blank",rel:"noopener noreferrer"}},[s._v("文件"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("p",[s._v("主要是 export 一個物件出來，Webpack 會讀取這個物件來進行相關配置的 bundle。")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html-webpack-plugin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  entry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./foo.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'foo.bundle.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    clean"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  module"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rules"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        test"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token regex"}},[t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),t("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token regex-flags"}},[s._v("i")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        use"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("以上是官網的範例，就先來看看 mode、entry、output 這三個的最簡單的配置。")]),s._v(" "),t("h3",{attrs:{id:"entry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#entry"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://webpack.js.org/concepts/#entry",target:"_blank",rel:"noopener noreferrer"}},[s._v("Entry"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("決定專案的入口，預設值是 "),t("code",[s._v("src/index.js")]),s._v("，修改方式就是在 entry 屬性給與路徑就可以了，如同範例的 "),t("code",[s._v("./foo.js")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"output"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#output"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://webpack.js.org/concepts/#output",target:"_blank",rel:"noopener noreferrer"}},[s._v("Output"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("決定專案的出口，預設路徑會是 "),t("code",[s._v("./dist/main.js")]),s._v("，執行 bundle 後會，產生 dist 資料夾，並在下面幫我們預設產生 main.js 的打包檔案。")]),s._v(" "),t("p",[s._v("其中，"),t("code",[s._v("path")]),s._v(" 是 node 本身就有的方法，"),t("code",[s._v("path.resolve(__dirname, 'dist')")]),s._v(" 取得當前資料夾的絕對路徑，並進入到 dist 資料夾下面。")]),s._v(" "),t("p",[t("code",[s._v("filename")]),s._v(" bundle 後的 javascript 檔案名稱。可以在透過 hash 的方式，繞過伺服器的快取，設定方式為 "),t("code",[s._v("foo.[hash].js")]),s._v("，之後每次打包都會有不同的 hash 值。")]),s._v(" "),t("p",[t("code",[s._v("clean")]),s._v(" 清除 dist 資料夾，")]),s._v(" "),t("ul",[t("li",[s._v("__dirname：獲得當前被執行檔案所在的資料夾路徑，在 Webpack 5 中，只需要 output 項目中加上 clean: true 即可，不需要在額外安裝 plugin。")])]),s._v(" "),t("h3",{attrs:{id:"mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mode"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://webpack.js.org/concepts/#mode",target:"_blank",rel:"noopener noreferrer"}},[s._v("Mode"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("預設值會是 prodution，會自動壓縮程式碼，幫助我們在正式環境可以有更小的檔案體積，設定為 development 就不會進行程式碼的優化。")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"}),t("p",[s._v("prodution 模式下，會進行 "),t("a",{attrs:{href:"https://webpack.js.org/guides/tree-shaking/#root",target:"_blank",rel:"noopener noreferrer"}},[s._v("tree shaking"),t("OutboundLink")],1),s._v(" 的功能。通常我們在引入套件或是函式庫的時候，可能只會使用部分想要使用的方法，傳統打包都會把沒有用到的方法一併打包，導致專案的 bundle 特別肥大，而 Webpack mode 為 production 會過濾沒有用到的方法，不會進行打包，以便減少體積，所以上線的時候，記得一定要用 production 模式。")])]),t("h3",{attrs:{id:"module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://webpack.js.org/concepts/modules/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Module"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("通常我們在 index.js 入口引入 Javascript 檔案，Webpack 是看得懂\n並進行打包的。但是像是 images、css、html 等，Webpack 是不會辨識出來的，需要透過 Loader 來載入相關套件進行處理，在 Webpack 4 版本後，就改為 Module，以上面載入 css loader 為例。")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./lib'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./style.css'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("假設，我們 import 外部的 css 檔案，而沒有進行 loader 處理，打包的時候就會出現錯誤，會提醒我們要安裝對應的 loader 並進行配置。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/HUwTyNA.png",alt:""}})]),s._v(" "),t("p",[s._v("在 module 中，rules 陣列中可以使用多個 loader，像是 css-loader、babel-loader、image-loader 等，之後會一個一個介紹。")]),s._v(" "),t("p",[s._v("規則就是，在 test 中寫入檔案的類型，通常會正則表達式，匹配到類型之後，會使用對應好的 loader 套件進行處理。同時 loader 也可以串連使用，概念上類似於 Linux 中的 pipe，A Loader 處理完之後把結果交給 B Loader 繼續轉換，以此類推，但要特別留意，串連的時候則是以"),t("strong",[s._v("反方向")]),s._v("執行（由右至左）。")]),s._v(" "),t("h3",{attrs:{id:"plugins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://webpack.js.org/concepts/plugins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Plugins"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("透過 module 的配置，我們可以完成簡單的打包設定，但是像是 TS 的轉譯、SCSS 前置處理、html 模板的設定等，還是要透過第三方套件來處理，因此 Webpack 社群提供很多 Plugins，安裝到對應的專案後，就可以使用了。")]),s._v(" "),t("p",[s._v("以上面的例子，"),t("a",{attrs:{href:"https://webpack.js.org/plugins/html-webpack-plugin/#root",target:"_blank",rel:"noopener noreferrer"}},[s._v("HtmlWebpackPlugin"),t("OutboundLink")],1),s._v(" 可以幫我們自動處理 html，像是打包後的檔案引入。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://i.imgur.com/MwhNe63.png",alt:""}})]),s._v(" "),t("p",[s._v("HtmlWebpackPlugin，也有提供模板的功能，像是 react/vue 的腳手架，都會有對應的 html 模板：")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("plugins"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  template"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./src/index.html'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"webpack-dev-serve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-serve"}},[s._v("#")]),s._v(" Webpack dev serve")]),s._v(" "),t("p",[s._v("Webpack 有提供開發模式下的打包，以便我們 debug，並且也有 live reloading 的功能。")]),s._v(" "),t("p",[s._v("在 package.json script 寫入指令：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack serve"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("執行 "),t("code",[s._v("npm run dev")]),s._v("，第一次執行會要求安裝 serve 相關套件。")]),s._v(" "),t("h2",{attrs:{id:"結論"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#結論"}},[s._v("#")]),s._v(" 結論：")]),s._v(" "),t("p",[s._v("以上就是 Webpack 各個常用設定的介紹，了解這些後，對於 vue-cli 或是 react app 等腳手架，打包或是設定上，才不會手忙腳亂。之後會針對比較常用的功能設定做講解。")])])}),[],!1,null,null,null);a.default=n.exports}}]);